{
    "builders": [
      {
        "name": "build-ts",
        "image": "node:16-alpine",
        "workdir": "/tmp/build",
        "add": ["*"],
        "rootScript": [
          "addgroup -S app",
          "adduser -S -g app app",
          "chmod -R 777 ./"
        ],
        "script": [
          "npm i",
          "rm -Rf node_modules"
        ]
      }
    ],
    "image": "node:16-alpine",
    "workdir": "/home/app",
    "envs": {
      "NPM_CONFIG_LOGLEVEL": "warn"
    },
    "rootScript": [
      "addgroup -S app",
      "adduser -S -g app app"
    ],
    "script": [
      "npm i --omit=dev"
    ],
    "artifacts": [
      {
        "builder": "build-ts",
        "source": "/tmp/build/",
        "destination": "/home/app/"
      }
    ]
  }